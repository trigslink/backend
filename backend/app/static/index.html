<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MCP Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      background: #0f0f12;
      color: #fff;
    }

.sidebar {
  width: 240px;
  background: #14151a;
  padding: 1.5rem 1rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: 100vh;              /* üî• forces full vertical height */
  position: fixed;            /* lock in place */
  top: 0;
  left: 0;
}


    .sidebar h2 {
      color: #fff;
      font-size: 1.3rem;
      margin-bottom: 1rem;
    }

    .sidebar a {
      display: block;
      background: #1e1f26;
      color: #ccc;
      text-decoration: none;
      padding: 1rem;
      border-radius: 12px;
      transition: 0.2s;
    }

    .sidebar a:hover {
      background: #2d2f3a;
      color: #fff;
    }

.main {
  flex: 1;
  padding: 2rem 3rem 2rem 3rem; /* ‚Üê left/right padding balanced */
  margin-left: 240px;
}



    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header h1 {
      font-size: 2.2rem;
      background: linear-gradient(to right, #8a3ffc, #4f9eff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .chainlink-badge {
      color: #4f9eff;
      font-weight: bold;
      text-decoration: none;
    }

    .wallet-section {
      margin: 2rem 0;
      background: #1a1b1f;
      border-radius: 12px;
      padding: 1.5rem;
    }

    .wallet-section button {
      background: #4f9eff;
      border: none;
      padding: 0.7rem 1.5rem;
      border-radius: 10px;
      font-weight: bold;
      color: white;
      cursor: pointer;
    }

.mcp-dashboard {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.mcp-card {
  width: 100%;
  max-width: 700px;
}


    .mcp-dashboard h2 {
      margin-bottom: 1rem;
    }

.mcp-card {
  background: #1a1b1f;
  border-radius: 12px;
  padding: 1rem 1.5rem;
  margin-bottom: 1.5rem;      /* ‚Üê More breathing room */
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 1px 3px rgba(0,0,0,0.4);
}


    .mcp-card .info {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .mcp-card .icon {
      font-size: 2rem;
    }

    .mcp-card .tags span {
      background: #333;
      color: #ccc;
      padding: 0.2rem 0.6rem;
      border-radius: 6px;
      font-size: 0.75rem;
      margin-right: 0.5rem;
    }

    .pull-graph {
      font-size: 0.8rem;
      color: #888;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>Trigslink</h2>
    <a href="/static/consumer_mcp_library.html">MCP Library</a>
    <a href="/static/trigsmind.html">TrigsMind</a>
    <a href="/static/consumer_dashboard.html">Selected Servers</a>
  </div>

  <div class="main">
    <div class="header">
      <h1>YOUR NODES, YOUR CONTROL</h1>
      <a href="https://chain.link" target="_blank" class="chainlink-badge">Powered by Chainlink</a>
    </div>

<div class="wallet-section">
  <div style="display: flex; justify-content: space-between; align-items: center;">
    <div>
      <h3>Step 1. Connect To Your Account</h3>
      <p>Link your wallet</p>
    </div>
    <div id="walletAddressDisplay" style="color: #aaa;"></div>
  </div>
  <button>Connect Wallet</button>
</div>


    <div class="mcp-dashboard">
      <h2>MCP Dashboard</h2>

      <div class="mcp-card">
        <div class="info">
          <div class="icon">üìò</div>
          <div>
            <strong>mcp / Facebook</strong><br>
            <small>Updated 2 days ago...</small><br>
            <div class="tags"><span>SOCIAL NETWORK</span></div>
          </div>
        </div>
        <div class="pull-graph">
          <br>‚Üó‚Üó Trending
        </div>
      </div>

      <div class="mcp-card">
        <div class="info">
          <div class="icon">üí¨</div>
          <div>
            <strong>mcp / Slack</strong><br>
            <small>Updated 2 days ago...</small><br>
            <div class="tags"><span>COMMUNICATION</span></div>
          </div>
        </div>
        <div class="pull-graph">
    <br>‚Üó Popular
        </div>
      </div>

      <div class="mcp-card">
        <div class="info">
          <div class="icon">üü¢</div>
          <div>
            <strong>mcp / CoinGecko</strong><br>
            <small>Updated 1 day ago...</small><br>
            <div class="tags"><span>CRYPTO DATA</span></div>
          </div>
        </div>
        <div class="pull-graph">
       <br>‚Üó Popular
        </div>
      </div>
    </div>
  </div>
<script>
  function shortenAddress(addr) {
    return `${addr.slice(0, 6)}‚Ä¶${addr.slice(-4)}`;
  }

  async function connectWallet() {
    if (!window.ethereum) {
      alert("MetaMask is not installed");
      return;
    }

    try {
      await window.ethereum.request({
        method: "wallet_requestPermissions",
        params: [{ eth_accounts: {} }],
      });

      const [account] = await window.ethereum.request({
        method: "eth_requestAccounts",
      });

      localStorage.setItem("connectedWallet", account);
      document.dispatchEvent(
        new CustomEvent("walletConnected", { detail: account })
      );

      const lbl = document.getElementById("walletAddressDisplay");
      if (lbl) lbl.textContent = `Connected: ${shortenAddress(account)}`;

      const btn = document.querySelector(".wallet-section button");
      if (btn) btn.textContent = "Disconnect";
    } catch (err) {
      console.error("‚ùå Wallet connection failed", err);
    }
  }

  function restoreWallet() {
    const saved = localStorage.getItem("connectedWallet");
    if (saved) {
      const lbl = document.getElementById("walletAddressDisplay");
      if (lbl) lbl.textContent = `Connected: ${shortenAddress(saved)}`;

      const btn = document.querySelector(".wallet-section button");
      if (btn) btn.textContent = "Disconnect";
    }
  }

  function disconnectWallet() {
    localStorage.removeItem("connectedWallet");

    const lbl = document.getElementById("walletAddressDisplay");
    if (lbl) lbl.textContent = "";

    const btn = document.querySelector(".wallet-section button");
    if (btn) btn.textContent = "Connect Wallet";
  }

  document.addEventListener("DOMContentLoaded", () => {
    restoreWallet();

    document.querySelector(".wallet-section button").addEventListener("click", () => {
      const connected = localStorage.getItem("connectedWallet");
      connected ? disconnectWallet() : connectWallet();
    });
  });
</script>
</body>
</html>
